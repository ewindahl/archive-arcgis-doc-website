require(["SessionManager","ApplicationManager/views/top-hosted","ApplicationManager/helpers/top-hosted","Quoin/Model","Quoin/Handlebars","dojo/text!/templates/dashboard/components/hosted-bar","dojo/text!/templates/dashboard/top-hosted","dojo/query"],function(e,t,n,r,s,o,u,a){function f(t){n.getUsageDataForGraph(e.orgId(),t).then(function(e){r.set("timeRangePhrase",e.timeRangePhrase),r.set("usageData",e.usageData),r.set("mostCredits",e.mostCredits),barTemplate=s.compile(o);var t=a("#hosted-list")[0];t.innerHTML="";for(i=0;i<r.usageData.length;i++){var n=barTemplate(r.usageData[i]);t.innerHTML+=n}})}function l(){a("#date_range").on("change",function(e){var t=a(this).attr("value")[0];a("#loader1",this.domNode).removeClass("hidden"),f(t)})}e.requireSession(),r=new r;var c=new t({model:r},"top-hosted");f("month"),l()});