require(["dojo/_base/Color","dojo/on","dojo/dom","esri/map","esri/domUtils","esri/dijit/Directions","Config","dojo/domReady!"],function(e,t,n,r,i,s,o){function d(e){e===0?i.hide(dojo.byId("previous")):i.show(dojo.byId("previous")),e===p.directions.features.length-1?i.hide(dojo.byId("next")):i.show(dojo.byId("next"));if(e>=0&&e<p.directions.features.length){var t=p.directions.features[e];n.byId("directionsDemoContent").innerHTML=t.attributes.text,p.centerAtSegmentStart(e),p.highlightSegment(e)}}var u=0,a=new esri.symbol.PictureMarkerSymbol({angle:0,xoffset:0,yoffset:10,type:"picturemarkersymbol",url:"/img/green-pin.png",contentType:"image/png",width:24,height:24}),f=new esri.symbol.PictureMarkerSymbol({angle:0,xoffset:0,yoffset:10,type:"picturemarkersymbol",url:"/img/red-pin.png",contentType:"image/png",width:24,height:24}),l=new esri.symbol.SimpleLineSymbol("STYLE_SOLID",new e([0,117,174,.6]),4),c=new esri.symbol.SimpleLineSymbol("STYLE_SOLID",new e([233,145,65,.95]),4);t(n.byId("close"),"click",function(){i.hide(n.byId("directionsDemoResults")),i.show(n.byId("directionsDemo"))}),t(n.byId("next"),"click",function(){d(u+=1)}),t(n.byId("previous"),"click",function(){d(u-=1)});var h=new esri.Map("directions-demo",{basemap:"topo",center:[-122.349123,37.785023],zoom:10,minZoom:2});h.on("load",function(){h.disableMapNavigation(),h.enableRubberBandZoom(),h.enableDoubleClickZoom(),h.enablePan()}),esri.addProxyRule({urlPrefix:"route.arcgis.com",proxyUrl:"/sproxy"}),esri.addProxyRule({urlPrefix:"routeqa.arcgis.com",proxyUrl:"/sproxy"}),esri.addProxyRule({urlPrefix:"routedev.arcgis.com",proxyUrl:"/sproxy"});var p=new s({map:h,routeTaskUrl:o.route_url,routeParams:{directionsLanguage:"en-US"},stops:["San Francisco, CA","Oakland, CA"],geocoderOptions:{autoComplete:!1},showHighlightPopup:!1,fromSymbol:a,toSymbol:f,dragging:!1,stopsInfoTemplate:!1,showSegmentPopup:!1,addRemoveStopsEnabled:!1,showReverseStopsButton:!1,showPrintPage:!1,textSymbolOffset:{x:-999,y:10.75},canModifyStops:!1,routeSymbol:l,segmentSymbol:c},"directionsDemo");p.on("DirectionsFinish",function(){p.directions.features.length>0&&(i.show(dojo.byId("directionsDemoResults")),i.hide(dojo.byId("directionsDemo")),d(0))}),p.startup()});