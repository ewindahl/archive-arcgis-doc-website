require(["dojo/on","dojo/query","dojo/dom-construct","esri/map","esri/dijit/Popup","esri/dijit/Geocoder","dojo/domReady!"],function(e,t,n){var r,i,s=new esri.dijit.Popup(null,dojo.create("div"));r=new esri.Map("geocoding-demo",{basemap:"streets",center:[-122.67,45.525],zoom:14,infoWindow:s,minZoom:2}),r.addLayer(new esri.layers.GraphicsLayer({id:"results"})),i=new esri.dijit.Geocoder({autoNavigate:!0,autoComplete:!0,maxLocations:20,map:r,value:"Portland, OR coffee shops",arcgisGeocoder:{url:"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer",name:"Esri World Geocoder",placeholder:"search for places"}},"search"),i.startup();var o=new esri.symbol.PictureMarkerSymbol({angle:0,xoffset:0,yoffset:10,type:"esriPMS",url:"/img/blue-pin.png",contentType:"image/png",width:24,height:24}),u=new esri.InfoTemplate("${name}","${*}"),a=function(e){var t=r.getLayer("results");t.clear(),r.infoWindow.hide(),dojo.forEach(e.results,function(e){e.feature.attributes.name=e.name,e.feature.setSymbol(o),e.feature.setInfoTemplate(u),t.add(e.feature)})};dojo.connect(i,"onFindResults",a),dojo.connect(i,"onAutoComplete",a),r.on("load",function(){r.disableMapNavigation(),r.enableRubberBandZoom(),r.enableDoubleClickZoom(),r.disableKeyboardNavigation(),r.enablePan(),i.find()})});