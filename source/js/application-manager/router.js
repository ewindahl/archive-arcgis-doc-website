require(["Quoin/Router","Quoin/History","ApplicationManager/views/list","ApplicationManager/views/new","ApplicationManager/views/edit","ApplicationManager/collections/applications","ApplicationManager/global-notifications","ApplicationManager/helpers/handlebars"],function(e,t,n,r,i,s,o){function u(){o.error("Could not load application information.")}function a(e,t,n){i.use(e),i.render("application-manager-root","only",n),i.show(t)}e.on("route",function(){o.clear(),s.loaded&&n.sort()}),e.subscribe("router:navigate",function(e){this.navigate(e,{trigger:!0})}),e.route("","list",function(){n.render("application-manager-root","only",!0),n.renderCollection(),n.toggleDefaultView()}),e.route("new","new",function(){r.render("application-manager-root","only",!0)}),e.route(":id/info","info",function(e){s.getOrFetch(e).then(function(e){e.getOauthInfo().then(function(){a(e,"info",!0)},function(){a(e,"info",!0)})},u)}),e.route(":id/redirect-urls","redirect-urls",function(e){s.getOrFetch(e).then(function(e){e.getOauthInfo().then(function(){a(e,"redirect-urls",!0)},function(){a(e,"redirect-urls",!0)})},u)}),e.route(":id/delete","delete",function(e){s.getOrFetch(e).then(function(e){a(e,"delete",!0)},u)}),e.route(":id/push-certificates","push",function(e){s.getOrFetch(e).then(function(e){e.getOauthInfo().then(function(){a(e,"push-certificates",!0)},u)},u)}),e.route(":id/usage-summary","dashboard",function(e){s.getOrFetch(e).then(function(e){i.use(e),i.render("application-manager-root","only",!0),i.clearGraph(),i.show("usage-summary"),i.updateUsageGraph()},u)}),t.start({root:"/en/applications/",pushState:!1}),s.fetch()});