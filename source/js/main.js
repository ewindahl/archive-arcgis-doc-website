require(["Config","SessionManager","dojo/query","dojo/topic","dojo/NodeList-dom","dojo/NodeList-manipulate","dojo/NodeList-traverse","dojo/domReady!"],function(e,t,n,r){function i(){if(t.loggedIn()){n("body").addClass("logged-in");var e=window.location,r=e.origin,i=e.pathname.split("/")[1];if(e.pathname.match(/sign-up/)||e.pathname.match(/developer-beta/)||e.pathname.match(/developer-trial/))window.location=r+"/"+i+"/applications"}}function s(){n("nav select").on("change",function(e){var t=n(this).attr("value");if(t=="select")return!1;window.location=t})}function o(){window.hljs&&hljs.initHighlighting()}function u(){var e=n("#logged-in-navigation"),i=n("#logged-out-navigation"),s=n("img","logged-in-navigation"),o=n("#username"),u=n("#log-out-link");t.loggedIn()&&o.text(t.username()),r.subscribe("session:ready",function(){s.attr("src",t.avatar())}),t.loggedIn()?(e.removeClass("hide"),i.addClass("hide"),"ontouchstart"in window&&n("#logged-in-navigation a").first().on("click",function(e){e.preventDefault()})):(e.addClass("hide"),i.removeClass("hide")),u.on("click",function(){t.logout()})}function a(){var e=new esri.symbol.SimpleLineSymbol("solid",new dojo.Color([0,122,194]),2),t=new esri.symbol.SimpleFillSymbol("solid",e,new dojo.Color([185,224,247,.5]));esri.config.defaults.map.zoomSymbol=t.toJson()}function f(){t.developerSubscription()&&n(".account-settings-nav-item").removeClass("hide")}function l(){t.loggedIn()&&t.developerSubscription()&&n(".plans-header-nav-item").removeClass("hide")}function c(){t.isAdmin()&&n(".usage-summary-nav-item").removeClass("hide")}esri.config.defaults.io.proxyUrl="/proxy",window.console||function(){var e=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],t,n=e.length;window.console={};for(t=0;t<n;t++)window.console[e[t]]=function(){}}(),n("body").on("click",function(e){var t=n("#down-arrow"),r=n("#dropDown"),i=n(".logo-wrap");e.target==t[0]&&r[0].className!=="visible"?(r.addClass("visible"),i.addClass("expanded")):(r.removeClass("visible"),i.removeClass("expanded"))}),i(),s(),o(),u(),t.organization?l():r.subscribe("session:organization",function(){l()}),c()});