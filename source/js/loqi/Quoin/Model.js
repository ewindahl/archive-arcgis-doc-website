define(["dojo/_base/declare","dojo/Stateful","dojo/Evented","dojox/lang/functional/object","dojo/_base/lang","dojo/_base/array","Quoin/Base"],function(e,t,n,r,i,s,o){return e("Quoin.Model",[t,n,o],{constructor:function(e){this._setupGetters(),this._setupSetters(),this._setupLinks(),this.watch(function(e,t,n){this.emit("change:"+e,{newValue:n}),this.emit("change",{attribute:e,newValue:n})}),this.watch("id",function(e,t,n){this.collection&&t&&n&&(this.collection.index[n]=this.collection.index[t],delete this.collection.index[t],this.collection.emit("index-altered",{oldId:t,newId:n}))})},_setupGetters:function(){r.forIn(this.getters,i.hitch(this,function(e,t){this["_"+t+"Getter"]=e}))},_setupSetters:function(){r.forIn(this.setters,i.hitch(this,function(e,t){this["_"+t+"Setter"]=e}))},_setupLinks:function(){r.forIn(this.link,i.hitch(this,function(e,t){s.forEach(e,i.hitch(this,function(e){this.watch(e,function(e,n,r){this.emit("change:"+t,{newValue:this.get(t)})})}))}))},update:function(){},sync:function(){},create:function(){},destroy:function(){if(this.get("collection")){var e=this.get("collection");e&&e.remove(this.get("id"))}}})});